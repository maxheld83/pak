<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="pak behavior can be finetuned with environment variables and
options (as in base::options())."><title>Environment variables and options that modify the default behavior — pak configuration • pak</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Environment variables and options that modify the default behavior — pak configuration"><meta property="og:description" content="pak behavior can be finetuned with environment variables and
options (as in base::options())."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="/pak.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">pak</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.7.2.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/get-started.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/faq.html">FAQ</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/internals.html">pak internals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/pak/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Environment variables and options that modify the default behavior</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/pak/blob/HEAD/R/docs.R" class="external-link"><code>R/docs.R</code></a></small>
      <div class="d-none name"><code>pak-config.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>pak behavior can be finetuned with environment variables and
options (as in <code><a href="https://rdrr.io/r/base/options.html" class="external-link">base::options()</a></code>).</p>
    </div>


    <div class="section level2">
    <h2 id="r-options-affecting-pak-s-behavior">R options affecting pak's behavior<a class="anchor" aria-label="anchor" href="#r-options-affecting-pak-s-behavior"></a></h2>
    
<div class="section">
<h3 id="ncpus"><code>Ncpus</code><a class="anchor" aria-label="anchor" href="#ncpus"></a></h3>


<p>Set to the desired number of worker processes for package installation.
If not set, then pak will use the number of logical processors in the
machine.</p>
</div>

<div class="section">
<h3 id="repos"><code>repos</code><a class="anchor" aria-label="anchor" href="#repos"></a></h3>


<p>The CRAN-like repositories to use. See <code><a href="https://rdrr.io/r/base/options.html" class="external-link">base::options()</a></code> for details.</p>
</div>

    </div>
    <div class="section level2">
    <h2 id="pak-configuration">pak configuration<a class="anchor" aria-label="anchor" href="#pak-configuration"></a></h2>
    <p>Configuration entries (unless noted otherwise on this manual page)
have a corresponding environment variable, and a corresponding option.</p>
<p>The environment variable is always uppercase and uses underscores as the
word separator. It always has the <code>PKG_</code> prefix.</p>
<p>The option is typically lowercase, use it uses underscores as the word
separator, but it always has the <code>pkg.</code> prefix (notice the dot!).</p>
<p>Some examples:</p><table class="table table"><tr><td>Config entry name</td><td>Env var name</td><td>Option name</td></tr><tr><td>platforms</td><td><code>PKG_PLATFORMS</code></td><td><code>pkg.platforms</code></td></tr><tr><td>cran_mirror</td><td><code>PKG_CRAN_MIRROR</code></td><td><code>pkg.cran_mirror</code></td></tr></table><div class="section">
<h3 id="pak-configuration-entries">pak configuration entries<a class="anchor" aria-label="anchor" href="#pak-configuration-entries"></a></h3>


<p></p><ul><li><p>‘cache_dir’: (Env var: <code>PKG_CACHE_DIR</code>, option: <code>pkg.cache_dir</code>.) Directory to download the packages to. Defaults to a temporary
directory within the R session temporary directory, see
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">base::tempdir()</a></code>.</p></li>
<li><p>‘cran_mirror’: (Env var: <code>PKG_CRAN_MIRROR</code>, option: <code>pkg.cran_mirror</code>.) CRAN mirror to use. Defaults to the <code>repos</code> option
(see <code><a href="https://rdrr.io/r/base/options.html" class="external-link">base::options()</a></code>), if that's not set then
<code>https://cran.rstudio.com</code>. See also <code><a href="repo_add.html">pak::repo_add()</a></code> and
<code><a href="repo_get.html">pak::repo_get()</a></code></p></li>
<li><p>‘git_submodules’: (Env var: <code>PKG_GIT_SUBMODULES</code>, option: <code>pkg.git_submodules</code>.) Whether or not to update submodules in git repositories. This
affects <code>git::</code> and <code>gitlab::</code> package sources only.
If the R package is in a subdirectory then only the submodules
within that directory are updated. If a submodule appears in
<code>.Rbuildignore</code>, then it is skipped.</p></li>
<li><p>‘include_linkingto’: (Env var: <code>PKG_INCLUDE_LINKINGTO</code>, option: <code>pkg.include_linkingto</code>.) Whether to always include <code>LinkingTo</code> dependencies in the solution
of and installation, even if they are needed because the packages
are installed from binaries. This is sometimes useful, see e.g.
<a href="https://github.com/r-lib/pak/issues/485" class="external-link">https://github.com/r-lib/pak/issues/485</a> for an example use case.</p></li>
<li><p>‘library’: (Env var: <code>PKG_LIBRARY</code>, option: <code>pkg.library</code>.) Package library to install packages to. It is also used for
already installed packages when considering dependencies.</p></li>
<li><p>‘metadata_cache_dir’: (Env var: <code>PKG_METADATA_CACHE_DIR</code>, option: <code>pkg.metadata_cache_dir</code>.) Location of metadata replica of
<code><a href="https://r-lib.github.io/pkgcache/reference/cranlike_metadata_cache.html" class="external-link">pkgcache::cranlike_metadata_cache</a></code>. Defaults to a temporary
directory within the R session temporary directory, see
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">base::tempdir()</a></code>.</p></li>
<li><p>‘metadata_update_after’: (Env var: <code>PKG_METADATA_UPDATE_AFTER</code>, option: <code>pkg.metadata_update_after</code>.) A time interval as a <a href="https://rdrr.io/r/base/difftime.html" class="external-link">difftime</a> object. pak will update the
metadata cache if it is older than this. The default is one day.
The <code>PKG_METADATA_UPDATE_AFTER</code> environment variable may be set
in seconds (<code>s</code> suffix), minutes (<code>m</code> suffix), hours (<code>h</code> suffix),
or days (<code>d</code> suffix). E.g: <code>1d</code> means one day.</p></li>
<li><p>‘package_cache_dir’: (Env var: <code>PKG_PACKAGE_CACHE_DIR</code>, option: <code>pkg.package_cache_dir</code>.) Location of the package cache on the disk. See
<code><a href="cache.html">pak::cache_summary()</a></code>. Default is selected by pkgcache.</p></li>
<li><p>‘platforms’: (Env var: <code>PKG_PLATFORMS</code>, option: <code>pkg.platforms</code>.) Character vector of platforms to <em>download</em> or <em>install</em> packages
for. See <code><a href="https://r-lib.github.io/pkgdepends/reference/default_platforms.html" class="external-link">pkgdepends::default_platforms()</a></code> for possible platform
names. Defaults to the platform of the current R session, plus
<code>"source"</code>.</p></li>
<li><p>‘r_versions’: (Env var: <code>PKG_R_VERSIONS</code>, option: <code>pkg.r_versions</code>.) Character vector, R versions to download or install
packages for. It defaults to the current R version.</p></li>
<li><p>‘sysreqs’: (Env var: <code>PKG_SYSREQS</code>, option: <code>pkg.sysreqs</code>.) Whether to automatically look up and install system requirements.
If <code>TRUE</code>, then pkgdepends will try to install required
system packages. If <code>FALSE</code>, then system requirements are still
printed (including OS packages on supported platforms), but they
are not installed.
By default it is <code>TRUE</code> on supported platforms,
if the current user is the root user or password-less <code>sudo</code> is
configured for the current user.</p></li>
<li><p>‘sysreqs_db_update’: (Env var: <code>PKG_SYSREQS_DB_UPDATE</code>, option: <code>pkg.sysreqs_db_update</code>.) Whether to try to update the system requirements database from
GitHub. If the update fails, then the cached or the build-in
database if used. Defaults to TRUE.</p></li>
<li><p>‘sysreqs_db_update_timeout’: (Env var: <code>PKG_SYSREQS_DB_UPDATE_TIMEOUT</code>, option: <code>pkg.sysreqs_db_update_timeout</code>.) Timeout for the system requirements database update.
Defaults to five seconds.</p></li>
<li><p>‘sysreqs_dry_run’: (Env var: <code>PKG_SYSREQS_DRY_RUN</code>, option: <code>pkg.sysreqs_dry_run</code>.) If <code>TRUE</code>, then pak only prints the system commands to
install system requirements, but does not execute them.</p></li>
<li><p>‘sysreqs_platform’: (Env var: <code>PKG_SYSREQS_PLATFORM</code>, option: <code>pkg.sysreqs_platform</code>.) The platform to use for system requirements lookup. On Linux, where
system requirements are currently supported, it must be a string
containing the distribution name and release, separated by a dash.
E.g.: <code>"ubuntu-22.04"</code>, or <code>"rhel-9"</code>.</p></li>
<li><p>‘sysreqs_rspm_repo_id’: (Env var: <code>PKG_SYSREQS_RSPM_REPO_ID</code>, option: <code>pkg.sysreqs_rspm_repo_id</code>.) Posit Package Manager (formerly RStudio Package Manager) repository
id to use for CRAN system requirements lookup. Defaults to the
<code>RSPM_REPO_ID</code> environment variable, if set. If not set, then it
defaults to <code>1</code>.</p></li>
<li><p>‘sysreqs_rspm_url’: (Env var: <code>PKG_SYSREQS_RSPM_URL</code>, option: <code>pkg.sysreqs_rspm_url</code>.) Root URL of Posit Package Manager (formerly RStudio Package
Manager) for system requirements lookup. By default the <code>RSPM_ROOT</code>
environment variable is used, if set. If not set,
it defaults to <code>https://packagemanager.posit.co</code>.</p></li>
<li><p>‘sysreqs_sudo’: (Env var: <code>PKG_SYSREQS_SUDO</code>, option: <code>pkg.sysreqs_sudo</code>.) Whether to use <code>sudo</code> to install system requirements,
on Unix. By default it is <code>TRUE</code> on Linux if the effective user id
of the current process is not the <code>root</code> user.</p></li>
<li><p>‘sysreqs_update’: (Env var: <code>PKG_SYSREQS_UPDATE</code>, option: <code>pkg.sysreqs_update</code>.) Whether to try to update system packages that are already installed.
It defaults to <code>TRUE</code> on CI systems: if the <code>CI</code> environment
variable is set to <code>true</code>.</p></li>
<li><p>‘sysreqs_verbose’: (Env var: <code>PKG_SYSREQS_VERBOSE</code>, option: <code>pkg.sysreqs_verbose</code>.) Whether to echo the output of system requirements installation.
Defaults to <code>TRUE</code> if the <code>CI</code> environment variable is set.</p></li>
<li><p>‘use_bioconductor’: (Env var: <code>PKG_USE_BIOCONDUCTOR</code>, option: <code>pkg.use_bioconductor</code>.) Whether to automatically use the Bioconductor repositories.
Defaults to <code>TRUE</code>.</p></li>
<li><p>‘windows_archs’: (Env var: <code>PKG_WINDOWS_ARCHS</code>, option: <code>pkg.windows_archs</code>.) Character scalar specifying which architectures
to download/install for on Windows. Its possible values are:</p><ul><li><p><code>"prefer-x64"</code>: Generally prefer x64 binaries. If the current R
session is <code>x64</code>, then we download/install x64 packages.
(These packages might still be multi-architecture binaries!)
If the current R session is <code>i386</code>, then we download/install
packages for both architectures. This might mean compiling
packages from source if the binary packages are for <code>x64</code> only,
like the CRAN Windows binaries for R 4.2.x currently.
<code>"prefer-x64"</code> is the default for R 4.2.0 and later.</p></li>
<li><p><code>"both"</code>: Always download/install packages for both <code>i386</code> and
<code>x64</code> architectures. This might need compilation from source
if the available binaries are for <code>x64</code> only, like the CRAN
Windows binaries for R 4.2.x currently. <code>"both"</code> is the default
for R 4.2.0 and earlier.</p></li>
</ul></li>
</ul></div>

<div class="section">
<h3 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a></h3>


<p>From version 0.4.0 pak copies the <code>PKG_*</code> environment variables and
the <code>pkg.*</code> options to the pak subprocess, where they are actually
used, so you don't need to restart R or reaload pak after a
configuration change.</p>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>, <a href="https://jimhester.com" class="external-link">Jim Hester</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>, Ascent Digital Services, R Consortium.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

  </div></footer></body></html>

